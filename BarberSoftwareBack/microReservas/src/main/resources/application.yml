server:
  port: ${PORT:5002}

spring:
  application:
    name: microReservas

  datasource:
    url: ${RESERVAS_DB_URL}
    username: ${RESERVAS_DB_USER}
    password: ${RESERVAS_DB_PASS}
    driver-class-name: org.postgresql.Driver

  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: true
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl
    properties:
      hibernate:
        format_sql: true

  # ============================
  # üê∞ RABBITMQ CONFIG
  # ============================
  rabbitmq:
    # Ahora lee las variables de entorno, o usa 'rabbitmq' si est√°s en local
    host: ${RABBITMQ_HOST:rabbitmq}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USERNAME:guest}
    password: ${RABBITMQ_PASSWORD:guest}
    # Virtual host suele ser '/' por defecto, √∫til agregarlo por si acaso
    virtual-host: ${RABBITMQ_VHOST:/}
    
    # Esta secci√≥n de 'queue' parece ser custom tuya, tambi√©n la parametrizamos
    queue:
      name: ${RABBITMQ_QUEUE_NAME:cola.reservas.notificaciones}

# ============================
# üîó CLIENTES REST (WebClient)
# ============================
clients:
  usuarios:
    base-url: ${CLIENTS_USUARIOS_BASE_URL}
  barberos:
    base-url: ${CLIENTS_BARBEROS_BASE_URL}

# ============================
# üí≥ STRIPE
# ============================
stripe:
  api:
    key: ${STRIPE_API_KEY}
  currency: ${STRIPE_CURRENCY}