

<div class="login-page-container">
  
  <!-- Se muestra si Auth0 est치 cargando o si ya est치 autenticado (mientras redirige) -->
  <div *ngIf="(auth0Loading$ | async) || (isAuthenticated$ | async)" class="loading-overlay">
    <div class="spinner"></div>
    <p>
      {{ (isAuthenticated$ | async) ? 'Entrando a BarbaNegra...' : 'Procesando...' }}
    </p>
  </div>


  <!-- CASO 2: FORMULARIO -->
  <!-- Solo se muestra si NO est치 cargando Y NO est치 autenticado -->
  <ng-container *ngIf="!(auth0Loading$ | async) && !(isAuthenticated$ | async)">
    <app-auth-panel 
      [isLoading]="isInternalLoading"
      (loginSubmit)="handleLoginSubmit($event)"
      (registerSubmit)="handleRegisterSubmit($event)"
      (googleLogin)="handleLoginGoogleSubmit()">
    </app-auth-panel>
  </ng-container>

</div>