/* --- RESET GLOBAL --- */
:host {
    display: block;
    box-sizing: border-box;
}

/* =========================================
   1. SECCIÓN SUPERIOR (Bienvenida + Calendario)
   ========================================= */
.top-section {
    display: flex;
    gap: 1.5rem;
    align-items: stretch;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

app-welcome-card {
    flex: 2;
    min-width: 300px;
}

app-calendar-widget {
    flex: 1;
    min-width: 300px;
}

/* =========================================
   2. SECCIÓN INFERIOR (BENTO GRID)
   ========================================= */
.bottom-section {
    display: flex;
    gap: 1rem;
    width: 100%;
    align-items: start; /* Evita estiramientos innecesarios */
}

/* --- COLUMNA IZQUIERDA (GRILLA) --- */
.left-column {
    flex: 2; /* Ocupa 2/3 del ancho */
    display: grid;
    /* Dos columnas iguales */
    grid-template-columns: 1fr 1fr; 
    /* Altura automática según contenido */
    grid-auto-rows: auto; 
    gap: 1rem;
}

/* Posicionamiento de Tarjetas Izquierda */

/* 1. Perfil (Arriba Izquierda) */
.barber-profile-card {
    grid-column: 1 / 2;
}

/* 2. Progreso (Arriba Derecha) */
.progress-card {
    grid-column: 2 / 3;
}

/* 3. KPI Financiero (Abajo - Ocupa todo el ancho) */
.kpi-card {
    grid-column: 1 / -1; /* Span de inicio a fin */
}

/* --- COLUMNA DERECHA (LISTA) --- */
.right-column {
    flex: 1; /* Ocupa 1/3 del ancho */
    display: flex;
    flex-direction: column;
    gap: 1rem;
    min-width: 280px;
}

/* =========================================
   3. ESTILOS DE WIDGETS INTERNOS
   ========================================= */

/* KPI Financiero */
.kpi-content {
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 15px;
}

.kpi-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.kpi-item .label { color: #888; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; }
.kpi-item .value { font-size: 1.8rem; font-weight: 800; color: #fff; }
.kpi-item .value.gold { color: #D4AF37; }

.divider { width: 1px; height: 50px; background: rgba(255, 255, 255, 0.1); }

/* Widget Próximo Cliente */
.next-client-box {
    display: flex;
    align-items: center;
    gap: 15px;
}

.icon-pulse {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(212, 175, 55, 0.2);
    color: #D4AF37;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    animation: pulse 2s infinite;
    flex-shrink: 0;
}

.next-client-box .info { flex: 1; }
.next-client-box .info h4 { margin: 0; font-size: 0.9rem; color: #888; }
.next-client-box .info .highlight { margin: 2px 0; font-size: 1.1rem; font-weight: bold; color: #fff; }
.next-client-box .info small { color: #aaa; }

.badge-time {
    background: rgba(255, 255, 255, 0.1);
    padding: 5px 10px;
    border-radius: 10px;
    font-size: 0.8rem;
    color: #fff;
    white-space: nowrap;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Empty States */
.empty-state { text-align: center; padding: 2rem; color: #666; }
.empty-state i { font-size: 2rem; display: block; margin-bottom: 10px; opacity: 0.5; }
.empty-state-small { text-align: center; padding: 1rem; color: #666; font-style: italic; }

/* Animación Pulso */
@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
    100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0); }
}

/* Utilidades de texto */
.text-muted {
    color: #888;
}

.small {
    font-size: 0.85rem;
}

/* Animación de entrada suave */
.fade-in-up {
    animation: fadeInUp 0.5s ease-out;
}

@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* =========================================
   ESTILOS DE CARGA (SPINNER)
   ========================================= */

.loading-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 60vh; /* Ocupa gran parte de la altura para centrar */
  width: 100%;
  color: #888;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 5px solid rgba(255, 255, 255, 0.1); /* Círculo gris transparente */
  border-left-color: #D4AF37; /* Color dorado que gira */
  border-radius: 50%; /* Lo hace redondo */
  animation: spin 1s linear infinite; /* La animación de giro */
  margin-bottom: 15px;
}

.loading-box p {
  font-size: 1.1rem;
  letter-spacing: 1px;
  animation: pulseText 1.5s infinite ease-in-out;
}

/* DEFINICIÓN DE LAS ANIMACIONES */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulseText {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.fade-in {
    animation: fadeIn 0.5s ease-out;
}

/* =========================================
   4. RESPONSIVE DESIGN
   ========================================= */

/* --- TABLETS (< 1024px) --- */
@media (max-width: 1024px) {
    .bottom-section {
        flex-direction: column; /* Pasa todo a una columna vertical grande */
    }

    .left-column {
        width: 100%;
        /* Mantenemos el grid de 2 columnas internas para tablet */
    }

    .right-column {
        width: 100%;
        flex-direction: row; /* Feedback y Next Client lado a lado */
        flex-wrap: wrap;
    }

    .right-column > div {
        flex: 1;
        min-width: 300px;
    }
}

/* --- MÓVILES (< 768px) --- */
@media (max-width: 768px) {
    .top-section {
        flex-direction: column;
    }

    .left-column {
        /* En móvil, todo a 1 sola columna */
        grid-template-columns: 1fr; 
    }

    /* Todos los elementos ocupan todo el ancho */
    .barber-profile-card,
    .progress-card,
    .kpi-card {
        grid-column: 1 / -1;
    }

    .right-column {
        flex-direction: column;
    }
}